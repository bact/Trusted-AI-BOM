$id: https://github.com/nqminds/Trusted-AI-BOM/blob/main/packages/schemas/src/taibom-schemas/40-code.v1.0.0.schema.yaml
$schema: https://json-schema.org/draft/2019-09/schema
title: Code
description: |
  This schema defines an Code which which is used in an AI system
type: object
properties:
  name:
    type: string
    description: The name of the code / package.
  location:
    type: object
    description: Details about where the dataset is stored, whether on a local filesystem or a remote URL.
    properties:
      type:
        type: string
        enum:
          - local
          - remote
        description: Indicates whether the dataset is stored locally or remotely.
      path:
        type: string
        description: The path or URL to the dataset location.
    required:
      - type
      - path
  hash:
    type: string
    description: The cryptographic hash (e.g., SHA256) of the dataset used for data integrity verification.
  hash_location:
    type: string
    description: The location where the hash is stored, can be either local or a remote URL.
  sbom:
    type: string
    description: ID of the SBOM generated from code

required:
  - name
  - location
  - sbom
anyOf:
  - required:
      - hash
  - required:
      - hash_location
examples:
  - name: MyLocalAIModel
    location:
      type: local
      path: /path/to/local/model
    hash: a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0
    hash_location: /path/to/local/model/hash.txt
    sbom: urn:uuid:65672143-7261-48f2-b991-651a89a38c6b
  - name: RemoteDataAnalyzer
    location:
      type: remote
      path: https://example.com/path/to/remote/model
    hash_location: https://example.com/path/to/remote/model/hash.txt
    sbom: urn:uuid:65672143-7261-48f2-b991-651a89a38c6b


